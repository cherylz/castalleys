(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(40)},38:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),n=a(21),r=a(12),i=a(3),l=a(4),c=a(7),d=a(5),p=a(6),u=a(42),h=a(44),m=a(43),y=a(41),f=a(22),g=a.n(f);var v=function(e){var t=e.podcast,a=t.id,s=t.image,n=t.title_original,r=t.publisher_original;return o.a.createElement("div",{className:"show-preview"},o.a.createElement(y.a,{to:"/podcast/".concat(a),onClick:e.resetSearchbar},o.a.createElement("img",{className:"artwork-sm",src:s,alt:"podcast artwork"})),o.a.createElement("div",null,o.a.createElement(y.a,{to:"/podcast/".concat(a),onClick:e.resetSearchbar,className:"title3"},n),o.a.createElement("p",{className:"title4"},r)))},E="tozmgyeURCmshY4PRqKqi947cziqp1ZjNB5jsndG3yqr9REc8S",P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).customizeColor=function(e){var t=e.target.dataset.value;document.documentElement.style.setProperty("--custom-color",t),a.props.updateCustomColor(t),localStorage.setItem("customColor",t)},a.callAjax=function(e){if(e){var t="https://api.listennotes.com/api/v1/typeahead?show_podcasts=1&q=%22".concat(e,"%22");fetch(t,{method:"GET",headers:{"X-RapidAPI-Key":E,Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){var t=!!e.podcasts.length;a.props.updateTypeaheadSearch(e.podcasts,t)}).catch(function(e){return console.log(e)})}},a.handleKeywordsChange=function(e){var t=e.target.value;a.props.updateKeywords(t),""===t?a.props.cleanTypeaheadSearch():a.props.activateSearchbar(),a.delayedCallback(t)},a.handleKeyUp=function(e){var t=a.props.keywords;"Enter"===e.key&&t&&t!==a.props.currentFullQuery&&(a.props.cleanTypeaheadSearch(),a.props.goToOrUpdateSearchPage(t))},a.delayedCallback=g.a.debounce(a.callAjax,500),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t,a=this,s=this.props.hideSearchbarResults?"matched-container1 hidden":"matched-container1",n=this.props.typeaheadPodcasts,r=this.props.keywords,i=this.props.currentFullQuery;return r&&(e=this.props.hasMatches?n.length?r===i?o.a.createElement("div",null,'Top matched podcasts for "',this.props.keywords,'". Check on the page below to see matched episodes and more matched podcasts.'):o.a.createElement("div",null,'Top matched podcasts for "',this.props.keywords,'". Press'," ",o.a.createElement("code",null,"return")," to check matched episodes and more podcasts."):o.a.createElement("div",null,'Searching podcasts for "',this.props.keywords,'".'):r===i?o.a.createElement("div",null,"Oops. No matched podcast found. Check on the page below to see matched episodes if any. Good luck!"):o.a.createElement("div",null,"Oops. No matched podcast found. Press ",o.a.createElement("code",null,"return")," to check matched episodes. Good luck!")),n&&n.length&&(t=n.map(function(e){return o.a.createElement(v,{key:e.id,podcast:e,resetSearchbar:a.props.resetSearchbar})})),o.a.createElement("header",null,o.a.createElement("div",{className:"navbar"},o.a.createElement("div",null,o.a.createElement(y.a,{to:"/",className:"prevent-tap-hl",onClick:this.props.resetSearchbar},o.a.createElement("span",{className:"navbar-logo navbar-logo-bg"},"CastAlleys"),o.a.createElement("span",{className:"navbar-logo navbar-logo-sm"},"C"))),o.a.createElement("div",{className:"navbar-search"},o.a.createElement("input",{value:this.props.keywords,onChange:this.handleKeywordsChange,onKeyUp:this.handleKeyUp,type:"text","aria-label":"input area for search",placeholder:"search podcasts",className:"navbar-search-box prevent-tap-hl"}),o.a.createElement("div",{className:s},e,t)),o.a.createElement("div",{className:"customize-color"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z",fill:this.props.customColor}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),o.a.createElement("div",{className:"color-picker"},o.a.createElement("div",null,o.a.createElement("span",{onClick:this.customizeColor,"data-value":"#ce0925",className:"dot red"})," ","Mars Red"),o.a.createElement("div",null,o.a.createElement("span",{onClick:this.customizeColor,"data-value":"#dd4124",className:"dot orange"})," ","Warm Orange"),o.a.createElement("div",null,o.a.createElement("span",{onClick:this.customizeColor,"data-value":"#009874",className:"dot emerald"})," ","Lively Emerald"),o.a.createElement("div",null,o.a.createElement("span",{onClick:this.customizeColor,"data-value":"#ff6f61",className:"dot coral"})," ","Playful Coral"),o.a.createElement("div",null,o.a.createElement("span",{onClick:this.customizeColor,"data-value":"#604c8d",className:"dot purple"})," ","Mystical Purple")))))}}]),t}(o.a.Component);function b(e){var t=function(e,t){return("000"+e).slice(-1*t)},a=parseFloat(e).toFixed(3),s=Math.floor(a/60/60),o=Math.floor(a/60)%60,n=Math.floor(a-60*o);return t(s,2)+":"+t(o,2)+":"+t(n,2)}function O(e){var t=new Date(e);return new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}).format(t)}var S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).audio=o.a.createRef(),a.progressBar=o.a.createRef(),a.state={timePlayed:"--:--:--",percent:0,playFromLastTime:!1},a.updatePlaybackControls=function(e){var t=a.audio.current;"playPause"===e.target.className.baseVal?a.props.onClick("playPause"):"speed"===e.target.className?a.props.onClick("speed"):"replay"===e.target.className.baseVal?t.currentTime<=10?t.currentTime=0:t.currentTime+=parseFloat(e.target.dataset.skip):"forward"===e.target.className.baseVal&&(t.currentTime+10>t.duration?t.currentTime=t.duration:t.currentTime+=parseFloat(e.target.dataset.skip))},a.scrub=function(e){var t=a.audio.current,s=a.progressBar.current,o=e.nativeEvent.offsetX/s.offsetWidth*t.duration;t.currentTime=o},a.updateCurrentTime=function(){var e=a.audio.current;if(a.state.playFromLastTime)e.currentTime=JSON.parse(localStorage.getItem("timePlayed")),a.setState({playFromLastTime:!1});else{var t=e.currentTime/e.duration*100||0;a.setState({timePlayed:b(e.currentTime),percent:t}),localStorage.setItem("timePlayed",e.currentTime)}},a.stopPlayingAndRemovePlayer=function(){a.audio.current.pause(),a.props.removePlayer(),localStorage.removeItem("timePlayed"),a.setState({timePlayed:"--:--:--",percent:0,playFromLastTime:!1})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("timePlayed"),t=localStorage.getItem("episodeOnPlay");if(e&&"0"!==e&&t){var a=function(e){var t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])}(JSON.parse(t).duration),s=JSON.parse(e)/a*100;this.setState({timePlayed:b(JSON.parse(e)),percent:s,playFromLastTime:!0})}}},{key:"componentDidUpdate",value:function(e){if(this.props.episodeOnPlay&&!this.props.hidePlayer){var t=this.audio.current;t[this.props.playing?"play":"pause"](),this.state.playFromLastTime&&(t.currentTime=JSON.parse(localStorage.getItem("timePlayed"))),this.props.speed!==e.speed&&(t.playbackRate=this.props.speed),e.episodeOnPlay.episodeId&&this.props.episodeOnPlay.episodeId!==e.episodeOnPlay.episodeId&&this.setState({timePlayed:"--:--:--",percent:0})}}},{key:"render",value:function(){var e=this;if(this.props.hidePlayer||!Object.keys(this.props.episodeOnPlay).length)return null;var t=this.state.timePlayed,a=this.state.percent,s=this.props.speed,n=this.props.episodeOnPlay,r=n.image,i=n.episodeId,l=n.podcastId,c=n.episodeTitle,d=n.podcastTitle,p=n.audio,u=n.duration,h=this.props.playing?o.a.createElement("svg",{className:"playPause",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{className:"playPause",d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z",fill:this.props.customColor}),o.a.createElement("path",{className:"playPause",d:"M0 0h24v24H0z",fill:"none"})):o.a.createElement("svg",{className:"playPause",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{className:"playPause",d:"M8 5v14l11-7z",fill:this.props.customColor}),o.a.createElement("path",{className:"playPause",d:"M0 0h24v24H0z",fill:"none"})),m=!1;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"player"},o.a.createElement("div",{className:"episode-info"},o.a.createElement(y.a,{to:"/episode/".concat(i),onClick:this.props.resetSearchbar},o.a.createElement("img",{className:"artwork-in-player",src:r,alt:"podcast artwork"})),o.a.createElement("div",{className:"titles-in-player"},o.a.createElement(y.a,{to:"/episode/".concat(i),onClick:this.props.resetSearchbar,className:"title1"},c),o.a.createElement("br",null),o.a.createElement(y.a,{to:"/podcast/".concat(l),onClick:this.props.resetSearchbar,className:"title2"},d))),o.a.createElement("div",{className:"player-controls"},o.a.createElement("div",{className:"main-controls",onClick:this.updatePlaybackControls},o.a.createElement("span",{className:"speed"},s,"x"),o.a.createElement("span",{className:"playcontrols"},o.a.createElement("svg",{className:"replay","data-skip":"-10",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("defs",null,o.a.createElement("path",{className:"replay",d:"M0 0h24v24H0V0z"})),o.a.createElement("clipPath",null,o.a.createElement("use",{xlinkHref:"#a",overflow:"visible"})),o.a.createElement("path",{className:"replay",d:"M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z",clipPath:"url(#b)",fill:this.props.customColor})),h,o.a.createElement("svg",{className:"forward","data-skip":"10",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("defs",null,o.a.createElement("path",{className:"forward",d:"M24 24H0V0h24v24z"})),o.a.createElement("clipPath",null,o.a.createElement("use",{xlinkHref:"#a",overflow:"visible"})),o.a.createElement("path",{className:"forward",d:"M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.8 3H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z",clipPath:"url(#b)",fill:this.props.customColor}))),o.a.createElement("div",{className:"tooltip"},o.a.createElement("svg",{className:"remove",onClick:this.stopPlayingAndRemovePlayer,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{className:"remove",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),o.a.createElement("path",{className:"remove",fill:"none",d:"M0 0h24v24H0V0z"})),o.a.createElement("span",{className:"tooltiptext"},"remove"))),o.a.createElement("div",{className:"progress"},o.a.createElement("div",{ref:this.progressBar,className:"progressbar",onClick:this.scrub,onMouseMove:function(t){return m&&e.scrub(t)},onMouseDown:function(){return m=!0},onMouseUp:function(){return m=!1}},o.a.createElement("div",{className:"progressbar-filled",style:{flexBasis:a+"%"}})),o.a.createElement("div",{className:"timer"},o.a.createElement("span",{ref:this.currentTime,id:"time-elapsed"},t),o.a.createElement("span",{id:"total-time"},u)))),o.a.createElement("audio",{src:p,ref:this.audio,onTimeUpdate:this.updateCurrentTime,onEnded:this.props.onEnded},"Your browser does not support the audio element.")))}}]),t}(o.a.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.currentFullQuery!==e.currentFullQuery){var t=this.props.currentFullQuery;this.props.history.push("/search/".concat(t))}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"home-cover"},o.a.createElement("span",null,"Just search and play."),o.a.createElement("span",null,"Wander around the alleys of podcasts.")),o.a.createElement("footer",null,o.a.createElement("span",null,"This is a fun project built by"," ",o.a.createElement("a",{href:"https://www.linkedin.com/in/cherylzeng/",target:"_blank",rel:"noopener noreferrer"},"Cheryl Zeng"),". If you like it, email to say hi =)"),o.a.createElement("a",{href:"mailto:czcodes@gmail.com",className:"shake",id:"email","aria-label":"email"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z",fill:this.props.customColor}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))))}}]),t}(o.a.Component),N=a(11);var k=function(e){if(e.podcast){var t=e.podcast,a=t.id,s=t.image,n=t.title_original,r=t.publisher_original;return o.a.createElement("div",{className:"show-preview"},o.a.createElement(y.a,{to:"/podcast/".concat(a),onClick:e.resetSearchbar},o.a.createElement("img",{className:"artwork-md",src:s,alt:"podcast artwork"})),o.a.createElement("div",{className:"align"},o.a.createElement(y.a,{to:"/podcast/".concat(a),onClick:e.resetSearchbar,className:"title3"},n),o.a.createElement("p",{className:"title4"},r)))}return o.a.createElement("div",{className:"show-preview"},o.a.createElement("p",null,"Oops...No match can be found."))};var M=function(e){var t,a=o.a.createRef(),s=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.title_highlighted},className:"inline"}),n=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.podcast_title_highlighted},className:"inline"}),r=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.publisher_highlighted},className:"inline"}),i=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.description_highlighted},className:"inline"}),l=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.transcripts_highlighted.join(" ... ")},className:"inline"}),c=e.episode,d=c.image,p=c.audio_length,u=c.audio,h=c.podcast_id,m=c.id,f=O(e.episode.pub_date_ms),g=u?p:"(no audio)",v=o.a.createElement("svg",{className:"prevent-tap-hl",onClick:P,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),E=o.a.createElement("svg",{className:"prevent-tap-hl",onClick:P,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"}));function P(){if(m!==e.episodeOnPlayId){var t=a.current.duration?b(a.current.duration):e.episode.audio_length,s={podcastTitle:e.episode.podcast_title_original,episodeTitle:e.episode.title_original,duration:t,podcastId:h,episodeId:m,image:d,audio:u};e.updateEpisodeOnPlayAndMaybeActualDuration(s)}else e.updatePlaying(),a.current.duration&&b(a.current.duration)!==e.episode.audio_length&&e.updateActualDuration(b(a.current.duration),m)}return u&&(t=m!==e.episodeOnPlayId?v:e.playing?E:v),o.a.createElement("div",{className:"episode-preview"},o.a.createElement(y.a,{to:"/podcast/".concat(h),onClick:e.resetSearchbar},o.a.createElement("img",{className:"artwork-md",src:d,alt:"podcast artwork"})),o.a.createElement("div",null,o.a.createElement(y.a,{to:"/episode/".concat(m),onClick:e.resetSearchbar,className:"title5"},s),o.a.createElement("div",null,"From"," ",o.a.createElement(y.a,{to:"/podcast/".concat(h),onClick:e.resetSearchbar},n)," ","by ",o.a.createElement("span",null,r)),o.a.createElement("div",null,t,o.a.createElement("span",{className:"duration"},g),o.a.createElement("svg",{className:"cursor-none",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),o.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),o.a.createElement("span",{className:"date"},f)),o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("b",null,"Description")),": ",i,"..."),o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("b",null,"Transcripts")),": ...",l,"...")),o.a.createElement("audio",{src:u,ref:a}))},I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={fullSearchPodcasts:[],fullSearchEpisodes:[],offsetEpisodes:0,totalEpisodeMatches:0,offsetPodcasts:0,totalPodcastMatches:0,fliter:"episodes",calledFullSearchEpisodes:!1,calledFullSearchPodcasts:!1,searchingForMore:!1},a.callFullSearchEpisodes=function(e,t){var s="first round"===t?"https://api.listennotes.com/api/v1/search?sort_by_date=0&type=episode&offset=0&safe_mode=1&q=%22".concat(e,"%22"):"https://api.listennotes.com/api/v1/search?sort_by_date=0&type=episode&offset=".concat(a.state.offsetEpisodes,"&safe_mode=1&q=%22").concat(e,"%22");fetch(s,{method:"GET",headers:{"X-RapidAPI-Key":E,Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){a.state.fullSearchEpisodes.length?a.setState({fullSearchEpisodes:[].concat(Object(N.a)(a.state.fullSearchEpisodes),Object(N.a)(e.results)),offsetEpisodes:e.next_offset}):a.setState({fullSearchEpisodes:Object(N.a)(e.results),offsetEpisodes:e.next_offset,totalEpisodeMatches:e.total,calledFullSearchEpisodes:!0}),a.setState({searchingForMore:!1})}).catch(function(e){console.log(e),a.setState({searchingForMore:!1})})},a.callFullSearchPodcasts=function(e){var t="https://api.listennotes.com/api/v1/search?sort_by_date=0&type=podcast&offset=".concat(a.state.offsetPodcasts,"&safe_mode=1&q=%22").concat(e,"%22");fetch(t,{method:"GET",headers:{"X-RapidAPI-Key":E,Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){a.state.fullSearchPodcasts.length?a.setState({fullSearchPodcasts:[].concat(Object(N.a)(a.state.fullSearchPodcasts),Object(N.a)(e.results)),offsetPodcasts:e.next_offset}):a.setState({fullSearchPodcasts:Object(N.a)(e.results),offsetPodcasts:e.next_offset,totalPodcastMatches:e.total,calledFullSearchPodcasts:!0}),a.setState({searchingForMore:!1})}).catch(function(e){console.log(e),a.setState({searchingForMore:!1})})},a.handleFilterChange=function(e){"episodes"===e.target.id?a.setState({fliter:"episodes"}):(a.setState({fliter:"podcasts"}),a.state.calledFullSearchPodcasts||a.callFullSearchPodcasts(a.props.currentFullQuery))},a.updateEpisodeOnPlayAndMaybeActualDuration=function(e){var t=a.state.fullSearchEpisodes.map(function(t){return t.id===e.episodeId&&(t.audio_length=e.duration),t});a.setState({fullSearchEpisodes:t}),a.props.updateEpisodeOnPlay(e)},a.updateActualDuration=function(e,t){var s=a.state.fullSearchEpisodes.map(function(a){return a.id===t&&(a.audio_length=e),a});a.setState({fullSearchEpisodes:s}),a.props.updateActualDurationOfEpisodeOnPlay(e)},a.loadMoreMatches=function(){a.setState({searchingForMore:!0}),"episodes"===a.state.fliter&&a.callFullSearchEpisodes(a.props.currentFullQuery,""),"podcasts"===a.state.fliter&&a.callFullSearchPodcasts(a.props.currentFullQuery)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.keywords;this.callFullSearchEpisodes(e,"first round"),this.props.goToOrUpdateSearchPage(e)}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(!t.fullSearchEpisodes.length&&this.props.episodeOnPlayId&&-1!==this.state.fullSearchEpisodes.map(function(e){return e.id}).indexOf(this.props.episodeOnPlayId)){var s=this.state.fullSearchEpisodes.map(function(e){return e.id===a.props.episodeOnPlayId&&(e.audio_length=a.props.episodeOnPlayDuration),e});this.setState({fullSearchEpisodes:s})}if(e.currentFullQuery&&this.props.currentFullQuery!==e.currentFullQuery){var o=this.props.currentFullQuery;this.props.history.push("/search/".concat(o)),this.setState({fullSearchPodcasts:[],fullSearchEpisodes:[],offsetEpisodes:0,totalEpisodeMatches:0,offsetPodcasts:0,totalPodcastMatches:0,fliter:"episodes",calledFullSearchEpisodes:!1,calledFullSearchPodcasts:!1}),this.callFullSearchEpisodes(this.props.currentFullQuery,"first round")}}},{key:"render",value:function(){var e,t=this,a="episodes"===this.state.fliter?"active":"",s="episodes"===this.state.fliter?"":"active",n=this.state.fullSearchEpisodes,r=this.state.fullSearchPodcasts,i=o.a.createElement("div",{className:"no-match-prompt"},"Searching :)"),l=o.a.createElement("div",{className:"no-match-prompt"},"Searching :)");"episodes"===this.state.fliter&&n.length<this.state.totalEpisodeMatches?e=this.state.searchingForMore?o.a.createElement("button",{className:"load-more disable-load"},"Loading"):o.a.createElement("button",{className:"load-more",onClick:this.loadMoreMatches},"Load More"):"podcasts"===this.state.fliter&&r.length<this.state.totalPodcastMatches&&(e=this.state.searchingForMore?o.a.createElement("button",{className:"load-more disable-load"},"Loading"):o.a.createElement("button",{className:"load-more",onClick:this.loadMoreMatches},"Load More")),n.length?i=n.map(function(e){return o.a.createElement(M,{key:e.id,episode:e,episodeOnPlayId:t.props.episodeOnPlayId,playing:t.props.playing,updateEpisodeOnPlayAndMaybeActualDuration:t.updateEpisodeOnPlayAndMaybeActualDuration,updateActualDuration:t.updateActualDuration,updatePlaying:t.props.updatePlaying,resetSearchbar:t.props.resetSearchbar})}):this.state.calledFullSearchEpisodes&&(i=o.a.createElement("div",{className:"no-match-prompt"},"Oops... No matched result found.")),r.length?l=r.map(function(e){return o.a.createElement(k,{podcast:e,key:e.id,resetSearchbar:t.props.resetSearchbar})}):this.state.calledFullSearchPodcasts&&(l=o.a.createElement("div",{className:"no-match-prompt"},"Oops... No matched result found."));var c="episodes"===this.state.fliter?i:l;return o.a.createElement("div",{className:"page-container"},o.a.createElement("div",{className:"matched-container2"},o.a.createElement("div",{className:"filter"},o.a.createElement("button",{id:"episodes",className:a,onClick:this.handleFilterChange},"Episodes"),o.a.createElement("span",null,"/"),o.a.createElement("button",{id:"podcasts",className:s,onClick:this.handleFilterChange},"Podcasts")),o.a.createElement("div",{className:"matched-results"},c),o.a.createElement("div",null,e)))}}]),t}(o.a.Component),C=a(17),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={keywords:""},a.handleKeywordsChange=function(e){var t=e.target.value;a.setState({keywords:t}),t||a.props.resetSearch()},a.handleSearch=function(e){var t=a.state.keywords;"Enter"===e.key&&t&&t!==a.props.query&&a.props.callInPodcastSearch(t,"first round")},a.createDescMarkup=function(){return{__html:a.props.podcast.description}},a.descComponent=function(){return o.a.createElement("div",{dangerouslySetInnerHTML:a.createDescMarkup(),className:"inline"})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t,a=this.props.podcast,s=a.id,n=a.title,r=a.image,i=a.publisher,l=a.rss,c=a.total_episodes,d=this.descComponent(),p=this.props.podcast.website.replace("?utm_source=listennotes.com&utm_campaign=Listen+Notes&utm_medium=website",""),u="https://itunes.apple.com/podcast/id".concat(this.props.podcast.itunes_id),h=O(this.props.podcast.earliest_pub_date_ms),m=this.props.podcast.genres.join(", ").toLowerCase()||"n/a";return"podcast"===this.props.podcastOnWhichPage?(e=o.a.createElement("h1",null,n),t=o.a.createElement("input",{value:this.state.keywords,onChange:this.handleKeywordsChange,onKeyUp:this.handleSearch,className:"search-in-podcast",type:"text",placeholder:"search in podcast"})):"episode"===this.props.podcastOnWhichPage&&(e=o.a.createElement(y.a,{to:"/podcast/".concat(s)},o.a.createElement("h1",null,n))),o.a.createElement("div",{className:"show"},e,o.a.createElement("img",{className:"artwork",src:r,alt:"podcast artwork"}),o.a.createElement("p",null,o.a.createElement("em",null,"By")," ",i),t,o.a.createElement("div",null,d),o.a.createElement("div",{className:"podcast-links"},o.a.createElement("a",{href:p,target:"_blank",rel:"noreferrer noopener"},"Website"),o.a.createElement("a",{href:l,target:"_blank",rel:"noreferrer noopener"},"RSS"),o.a.createElement("a",{href:u,target:"_blank",rel:"noreferrer noopener"},"iTunes")),o.a.createElement("p",{className:"more-info"},"Total episodes: ",c),o.a.createElement("p",{className:"more-info"},"First published: ",h),o.a.createElement("p",{className:"more-info"},"Tags: ",m))}}]),t}(o.a.Component);var j=function(e){var t,a,s,n,r=o.a.createRef(),i=e.episode,l=i.episodeTitle,c=i.episodeId,d=i.image,p=i.audio,u=i.date,h=i.duration,m=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.desc},className:"inline"}),f=o.a.createElement("svg",{onClick:v,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),g=o.a.createElement("svg",{onClick:v,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"}));function v(){if(c!==e.episodeOnPlayId){var t=r.current.duration?b(r.current.duration):e.episode.duration,a={podcastId:e.podcastId,podcastTitle:e.podcastTitle,duration:t,image:d,episodeId:c,episodeTitle:l,audio:p};e.updateEpisodeOnPlayAndMaybeActualDuration(a)}else e.updatePlaying(),r.current.duration&&b(r.current.duration)!==e.episode.duration&&("podcast"===e.episodeOnWhichPage?e.updateActualDuration(b(r.current.duration),c):"episode"===e.episodeOnWhichPage&&e.updateActualDuration(b(r.current.duration)))}return"podcast"===e.episodeOnWhichPage?(t="episode",a=o.a.createElement(y.a,{to:"/episode/".concat(c)},o.a.createElement("h3",null,l)),s=o.a.createElement("div",{className:"desc"},m)):"episode"===e.episodeOnWhichPage&&(t="episode noBorderBottom",a=o.a.createElement("h3",null,l),s=o.a.createElement("div",null,m)),p&&(n=c!==e.episodeOnPlayId?f:e.playing?g:f),o.a.createElement("div",{className:t},a,o.a.createElement("p",{className:"date"},u),o.a.createElement("div",{className:"episode-controls"},o.a.createElement("span",{className:"episode-play-group prevent-tap-hl"},n,o.a.createElement("span",{className:"duration"},h))),s,o.a.createElement("audio",{src:p,ref:r}))};var F=function(e){var t,a=o.a.createRef(),s=e.episode,n=s.podcast_title_original,r=s.podcast_id,i=s.id,l=s.image,c=s.audio,d=s.duration,p=s.date,u=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.title_highlighted},className:"inline"}),h=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.description_highlighted},className:"inline"}),m=o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.episode.transcripts_highlighted.join(" ... ")},className:"inline"}),f=o.a.createElement("svg",{onClick:v,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),g=o.a.createElement("svg",{onClick:v,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"}));function v(){if(i!==e.episodeOnPlayId){var t=a.current.duration?b(a.current.duration):e.episode.duration,s={episodeTitle:e.episode.title_original,duration:t,podcastId:r,podcastTitle:n,image:l,episodeId:i,audio:c};e.updateEpisodeOnPlayAndMaybeActualDuration(s)}else e.updatePlaying(),a.current.duration&&b(a.current.duration)!==e.episode.duration&&e.updateActualDuration(b(a.current.duration),i)}return c&&(t=i!==e.episodeOnPlayId?f:e.playing?g:f),o.a.createElement("div",{className:"episode"},o.a.createElement(y.a,{to:"/episode/".concat(i)},o.a.createElement("h3",null,u)),o.a.createElement("p",{className:"date"},p),o.a.createElement("div",{className:"episode-controls"},o.a.createElement("span",{className:"episode-play-group prevent-tap-hl"},t,o.a.createElement("span",{className:"duration"},d))),o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("b",null,"Description")),": ",h,"..."),o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("b",null,"Transcripts")),": ...",m,"..."),o.a.createElement("audio",{src:c,ref:a}))},A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={podcast:{},episodes:[],offsetPubDate:0,query:"",offsetMatches:0,totalMatches:0,matchedEpisodes:[],searchingInPodcast:!1},a.searchPodcast=function(e,t){var s="first round"===t?"https://api.listennotes.com/api/v1/podcasts/".concat(e,"?sort=recent_first"):"https://api.listennotes.com/api/v1/podcasts/".concat(e,"?next_episode_pub_date=").concat(a.state.offsetPubDate,"&sort=recent_first");fetch(s,{method:"GET",headers:{"X-RapidAPI-Key":E,Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){var t=e.episodes,s=e.next_episode_pub_date,o=Object(C.a)(e,["episodes","next_episode_pub_date"]),n=t.map(function(e){var t=Object(r.a)({},e);return delete t.audio_length,delete t.pub_date_ms,t.duration=e.audio?b(e.audio_length):"(no audio)",t.date=O(e.pub_date_ms),t});0===a.state.episodes.length?a.setState({podcast:o,episodes:n,offsetPubDate:s}):a.setState({episodes:[].concat(Object(N.a)(a.state.episodes),Object(N.a)(n)),offsetPubDate:s}),a.setState({searchingForMore:!1})}).catch(function(e){console.log(e),a.setState({searchingForMore:!1})})},a.callInPodcastSearch=function(e,t){var s="first round"===t?0:a.state.offsetMatches,o="https://api.listennotes.com/api/v1/search?sort_by_date=0&type=episode&offset=".concat(s,"&ocid=").concat(a.state.podcast.id,"&safe_mode=1&q=%22").concat(e,"%22");fetch(o,{method:"GET",headers:{"X-RapidAPI-Key":E,Accept:"application/json"}}).then(function(e){return e.json()}).then(function(t){var s=t.results.map(function(e){var t=Object(r.a)({},e);return delete t.audio_length,delete t.pub_date_ms,t.duration=e.audio?e.audio_length:"(no audio)",t.date=O(e.pub_date_ms),t});a.state.searchingInPodcast?a.state.query===e?a.setState({matchedEpisodes:[].concat(Object(N.a)(a.state.matchedEpisodes),Object(N.a)(s)),offsetMatches:t.next_offset}):a.state.query!==e&&a.setState({query:e,offsetMatches:t.next_offset,totalMatches:t.total,matchedEpisodes:s}):a.setState({query:e,offsetMatches:t.next_offset,totalMatches:t.total,matchedEpisodes:s,searchingInPodcast:!0}),a.setState({searchingForMore:!1})}).catch(function(e){console.log(e),a.setState({searchingForMore:!1})})},a.updateEpisodeOnPlayAndMaybeActualDuration=function(e){var t=(a.state.searchingInPodcast?a.state.matchedEpisodes:a.state.episodes).map(function(t){return t.id===e.episodeId&&(t.duration=e.duration),t});a.state.searchingInPodcast?a.setState({matchedEpisodes:t}):a.setState({episodes:t}),a.props.updateEpisodeOnPlay(e)},a.updateActualDuration=function(e,t){var s=(a.state.searchingInPodcast?a.state.matchedEpisodes:a.state.episodes).map(function(a){return a.id===t&&(a.duration=e),a});a.state.searchingInPodcast?a.setState({matchedEpisodes:s}):a.setState({episodes:s}),a.props.updateActualDurationOfEpisodeOnPlay(e)},a.loadMoreMatches=function(){if(a.setState({searchingForMore:!0}),a.state.searchingInPodcast)a.callInPodcastSearch(a.state.query,"");else{var e=a.props.match.params.podcastId;a.searchPodcast(e,"")}},a.resetSearch=function(){a.setState({query:"",offsetMatches:0,totalMatches:0,matchedEpisodes:[],searchingInPodcast:!1})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.podcastId;32===e.length?this.searchPodcast(e,"first round"):this.props.history.push("/404")}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(!t.episodes.length&&this.props.episodeOnPlayId&&-1!==this.state.episodes.map(function(e){return e.id}).indexOf(this.props.episodeOnPlayId)){var s=this.state.episodes.map(function(e){return e.id===a.props.episodeOnPlayId&&(e.duration=a.props.episodeOnPlayDuration),e});this.setState({episodes:s})}if(this.state.searchingInPodcast&&!t.matchedEpisodes.length&&this.props.episodeOnPlayId&&-1!==this.state.matchedEpisodes.map(function(e){return e.id}).indexOf(this.props.episodeOnPlayId)){var o=this.state.matchedEpisodes.map(function(e){return e.id===a.props.episodeOnPlayId&&(e.duration=a.props.episodeOnPlayDuration),e});this.setState({matchedEpisodes:o})}if(this.props.match.params.podcastId!==e.match.params.podcastId&&(this.setState({podcast:{},episodes:[],offsetPubDate:0,query:"",offsetMatches:0,totalMatches:0,matchedEpisodes:[],searchingInPodcast:!1}),this.searchPodcast(this.props.match.params.podcastId,"first round")),this.props.currentFullQuery!==e.currentFullQuery){var n=this.props.currentFullQuery;this.props.history.push("/search/".concat(n))}}},{key:"render",value:function(){var e,t,a,s=this,n=o.a.createElement("div",{className:"loading-prompt"},"Loading... Good things are worth waiting for :)");return!this.state.searchingInPodcast&&this.state.episodes.length<this.state.podcast.total_episodes?a=this.state.searchingForMore?o.a.createElement("button",{className:"load-more-btn disable-load"},"Loading"):o.a.createElement("button",{className:"load-more-btn",onClick:this.loadMoreMatches},"Load More"):this.state.searchingInPodcast&&this.state.matchedEpisodes.length<this.state.totalMatches&&(a=this.state.searchingForMore?o.a.createElement("button",{className:"load-more-btn disable-load"},"Loading"):o.a.createElement("button",{className:"load-more-btn",onClick:this.loadMoreMatches},"Load More")),Object.keys(this.state.podcast).length&&(n="",e=o.a.createElement(_,{podcastOnWhichPage:"podcast",podcast:this.state.podcast,query:this.state.query,callInPodcastSearch:this.callInPodcastSearch,updateQueryAndMatchedResults:this.updateQueryAndMatchedResults,resetSearch:this.resetSearch})),!this.state.searchingInPodcast&&this.state.episodes.length?t=this.state.episodes.map(function(e){var t={episodeTitle:e.title,episodeId:e.id,desc:e.description,image:e.image,audio:e.audio,date:e.date,duration:e.duration};return o.a.createElement(j,{key:e.id,episodeOnWhichPage:"podcast",podcastId:s.state.podcast.id,podcastTitle:s.state.podcast.title,episode:t,episodeOnPlayId:s.props.episodeOnPlayId,playing:s.props.playing,updateEpisodeOnPlayAndMaybeActualDuration:s.updateEpisodeOnPlayAndMaybeActualDuration,updateActualDuration:s.updateActualDuration,updatePlaying:s.props.updatePlaying})}):this.state.searchingInPodcast&&this.state.matchedEpisodes.length?t=this.state.matchedEpisodes.map(function(e){return o.a.createElement(F,{key:e.id,episode:e,episodeOnPlayId:s.props.episodeOnPlayId,playing:s.props.playing,updateEpisodeOnPlayAndMaybeActualDuration:s.updateEpisodeOnPlayAndMaybeActualDuration,updateActualDuration:s.updateActualDuration,updatePlaying:s.props.updatePlaying})}):this.state.searchingInPodcast&&!this.state.matchedEpisodes.length&&(t=o.a.createElement("div",{className:"no-match-prompt"},"Oops... No matched results found.")),o.a.createElement("div",{className:"page-container"},o.a.createElement("div",{className:"podcast-episode-container"},e,o.a.createElement("div",{className:"episodes"},t,a)),n)}}]),t}(o.a.Component),T=a(18),D=a.n(T),z=a(23),x=a(14),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={podcast:{},episode:{}},a.updateEpisodeOnPlayAndMaybeActualDuration=function(e){var t=Object(r.a)({},a.state.episode);t.duration=e.duration,a.setState({episode:t}),a.props.updateEpisodeOnPlay(e)},a.updateActualDuration=function(e){var t=Object(r.a)({},a.state.episode);t.duration=e,a.setState({episode:t}),a.props.updateActualDurationOfEpisodeOnPlay(e)},a.fetchData=a.fetchData.bind(Object(x.a)(Object(x.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.episodeId;if(32===e.length){var t="https://api.listennotes.com/api/v1/episodes/".concat(e),a={method:"GET",headers:{"X-RapidAPI-Key":E,Accept:"application/json"}};this.fetchData(t,a)}else this.props.history.push("/404")}},{key:"componentDidUpdate",value:function(e,t){if(!Object.keys(t.episode).length&&this.props.episodeOnPlayId&&this.state.episode.id===this.props.episodeOnPlayId){var a=Object(r.a)({},this.state.episode);a.duration=this.props.episodeOnPlayDuration,this.setState({episode:a})}if(this.props.currentFullQuery!==e.currentFullQuery){var s=this.props.currentFullQuery;this.props.history.push("/search/".concat(s))}}},{key:"fetchData",value:function(){var e=Object(z.a)(D.a.mark(function e(t,a){var s,o,n,i,l;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:return s=e.sent,e.next=6,s.json();case 6:o=e.sent,n=o.podcast,i=Object(C.a)(o,["podcast"]),delete(l=Object(r.a)({},i)).audio_length,delete l.pub_date_ms,l.duration=i.audio?b(i.audio_length):"(no audio)",l.date=O(i.pub_date_ms),this.setState({podcast:n,episode:l}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this.state.episode,s=this.state.podcast,n=o.a.createElement("div",{className:"loading-prompt"},"Loading... Good things are worth waiting for :)");if(Object.keys(s).length&&(n="",e=o.a.createElement(_,{podcastOnWhichPage:"episode",podcast:s})),Object.keys(a).length){var r={episodeTitle:a.title,episodeId:a.id,desc:a.description,image:a.image,audio:a.audio,date:a.date,duration:a.duration};t=o.a.createElement(j,{episodeOnWhichPage:"episode",podcastId:s.id,podcastTitle:s.title,episode:r,episodeOnPlayId:this.props.episodeOnPlayId,playing:this.props.playing,updateEpisodeOnPlayAndMaybeActualDuration:this.updateEpisodeOnPlayAndMaybeActualDuration,updateActualDuration:this.updateActualDuration,updatePlaying:this.props.updatePlaying})}return o.a.createElement("div",{className:"page-container"},o.a.createElement("div",{className:"podcast-episode-container"},e,o.a.createElement("div",{className:"episodes"},t)),n)}}]),t}(o.a.Component),Q=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.currentFullQuery!==e.currentFullQuery){var t=this.props.currentFullQuery;this.props.history.push("/search/".concat(t))}}},{key:"render",value:function(){return o.a.createElement("div",{className:"not-found-cover"},o.a.createElement("span",null,"Oops! Page not found."))}}]),t}(o.a.Component),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={customColor:"#ce0925",hideSearchbarResults:!0,typeaheadPodcasts:[],hasMatches:!0,keywords:"",currentFullQuery:"",hidePlayer:!0,episodeOnPlay:{},playing:!1,speed:1},a.updateCustomColor=function(e){a.setState({customColor:e})},a.activateSearchbar=function(){a.setState({hideSearchbarResults:!1,typeaheadPodcasts:[],hasMatches:!0})},a.cleanTypeaheadSearch=function(){a.setState({hideSearchbarResults:!0,typeaheadPodcasts:[],hasMatches:!0})},a.updateKeywords=function(e){a.setState({keywords:e})},a.updateTypeaheadSearch=function(e,t){a.setState({typeaheadPodcasts:e,hasMatches:t})},a.resetSearchbar=function(){a.setState({hideSearchbarResults:!0,typeaheadPodcasts:[],hasMatches:!0,keywords:"",currentFullQuery:""})},a.goToOrUpdateSearchPage=function(e){a.setState({keywords:e,currentFullQuery:e})},a.updateEpisodeOnPlay=function(e){0===Object.entries(a.state.episodeOnPlay).length&&a.setState({hidePlayer:!1}),a.setState({episodeOnPlay:e,playing:!0})},a.updateActualDurationOfEpisodeOnPlay=function(e){var t=Object(r.a)({},a.state.episodeOnPlay);t.duration=e,a.setState({episodeOnPlay:t}),localStorage.setItem("episodeOnPlay",JSON.stringify(t))},a.updatePlaying=function(){a.setState({playing:!a.state.playing})},a.updatePlaybackControls=function(e){"playPause"===e?a.setState({playing:!a.state.playing}):"speed"===e&&(a.state.speed<2?a.setState({speed:a.state.speed+.25}):2===a.state.speed&&a.setState({speed:.5}))},a.handleEnded=function(){a.setState({playing:!1})},a.removePlayer=function(){a.setState({hidePlayer:!0,episodeOnPlay:{},playing:!1})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("customColor"),t=localStorage.getItem("hidePlayer"),a=localStorage.getItem("episodeOnPlay"),s=localStorage.getItem("speed");e&&(document.documentElement.style.setProperty("--custom-color",e),this.setState({customColor:e})),"false"===t&&null!==a&&"{}"!==a&&this.setState({hidePlayer:!1,episodeOnPlay:JSON.parse(a)}),s&&this.setState({speed:JSON.parse(s)})}},{key:"componentDidUpdate",value:function(e,t){"null"===localStorage.getItem("speed")&&localStorage.setItem("speed",this.state.speed),this.state.speed!==t.speed&&localStorage.setItem("speed",this.state.speed),this.state.hidePlayer!==t.hidePlayer&&localStorage.setItem("hidePlayer",this.state.hidePlayer),!Object.keys(t.episodeOnPlay).length&&Object.keys(this.state.episodeOnPlay).length?(localStorage.setItem("episodeOnPlay",JSON.stringify(this.state.episodeOnPlay)),localStorage.setItem("speed",this.state.speed)):this.state.episodeOnPlay.episodeId!==t.episodeOnPlay.episodeId&&localStorage.setItem("episodeOnPlay",JSON.stringify(this.state.episodeOnPlay))}},{key:"render",value:function(){var e=this;return o.a.createElement(u.a,null,o.a.createElement("div",null,o.a.createElement(P,{customColor:this.state.customColor,hideSearchbarResults:this.state.hideSearchbarResults,typeaheadPodcasts:this.state.typeaheadPodcasts,keywords:this.state.keywords,hasMatches:this.state.hasMatches,currentFullQuery:this.state.currentFullQuery,activateSearchbar:this.activateSearchbar,cleanTypeaheadSearch:this.cleanTypeaheadSearch,updateKeywords:this.updateKeywords,updateTypeaheadSearch:this.updateTypeaheadSearch,goToOrUpdateSearchPage:this.goToOrUpdateSearchPage,resetSearchbar:this.resetSearchbar,updateCustomColor:this.updateCustomColor}),o.a.createElement(h.a,null,o.a.createElement(m.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(w,Object.assign({},t,{currentFullQuery:e.state.currentFullQuery,customColor:e.state.customColor}))}}),o.a.createElement(m.a,{path:"/search/:keywords",render:function(t){return o.a.createElement(I,Object.assign({},t,{currentFullQuery:e.state.currentFullQuery,episodeOnPlayId:e.state.episodeOnPlay.episodeId,episodeOnPlayDuration:e.state.episodeOnPlay.duration,playing:e.state.playing,goToOrUpdateSearchPage:e.goToOrUpdateSearchPage,updateEpisodeOnPlay:e.updateEpisodeOnPlay,updateActualDurationOfEpisodeOnPlay:e.updateActualDurationOfEpisodeOnPlay,updatePlaying:e.updatePlaying,resetSearchbar:e.resetSearchbar}))}}),o.a.createElement(m.a,{path:"/podcast/:podcastId",render:function(t){return o.a.createElement(A,Object.assign({},t,{currentFullQuery:e.state.currentFullQuery,episodeOnPlayId:e.state.episodeOnPlay.episodeId,episodeOnPlayDuration:e.state.episodeOnPlay.duration,playing:e.state.playing,updateEpisodeOnPlay:e.updateEpisodeOnPlay,updateActualDurationOfEpisodeOnPlay:e.updateActualDurationOfEpisodeOnPlay,updatePlaying:e.updatePlaying}))}}),o.a.createElement(m.a,{path:"/episode/:episodeId",render:function(t){return o.a.createElement(H,Object.assign({},t,{currentFullQuery:e.state.currentFullQuery,episodeOnPlayId:e.state.episodeOnPlay.episodeId,episodeOnPlayDuration:e.state.episodeOnPlay.duration,playing:e.state.playing,updateEpisodeOnPlay:e.updateEpisodeOnPlay,updateActualDurationOfEpisodeOnPlay:e.updateActualDurationOfEpisodeOnPlay,updatePlaying:e.updatePlaying}))}}),o.a.createElement(m.a,{render:function(t){return o.a.createElement(Q,Object.assign({},t,{currentFullQuery:e.state.currentFullQuery}))}})),o.a.createElement(S,{hidePlayer:this.state.hidePlayer,episodeOnPlay:this.state.episodeOnPlay,playing:this.state.playing,speed:this.state.speed,customColor:this.state.customColor,onClick:this.updatePlaybackControls,removePlayer:this.removePlayer,onEnded:this.handleEnded,resetSearchbar:this.resetSearchbar})))}}]),t}(o.a.Component),R=(a(38),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function V(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}Object(n.render)(o.a.createElement(L,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");R?(function(e,t){fetch(e).then(function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):V(t,e)})}}()}},[[25,2,1]]]);
//# sourceMappingURL=main.b0a3b40f.chunk.js.map